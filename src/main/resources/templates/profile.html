<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:fragment="head">
<title>GamerGaze - profile</title>
<th:block th:include="~{fragments/template:: head}"></th:block>
</head>
<body>
	<div th:replace="~{fragments/template :: sidebar}"></div>
	<nav th:replace="~{fragments/template  :: nav}">Navbar</nav>
	<div class="profile-container">
		<div class="cover-img" th:style="'background-image: url(' + @{/images/{id}(id=${user.bannerImage.id})} + ');'"></div>
		<div class="profile-details">
			<div class="pd-left">
				<div class="pd-row">
					<img class="pd-image"
						th:src="@{/images/{id}(id=${user.profileImage.id})}"
						alt="Banner">
					<div>
						<h3><span th:text="${user.username}"></span></h3>
						<h4><span th:text="${user.firstName}"></span> <span th:text="${user.lastName}"></span></h4>
						<p>120 Friends - 20 mutual</p>
					</div>
				</div>
			</div>
			<div class="pd-right">
				<button type="button">
					<i class="bx bxs-user-plus"></i>Friends
				</button>
				<button type="button">
					<i class="bx bxs-comment-dots"></i>Message
				</button>
				<br> <a href="#" data-bs-toggle="modal" data-bs-target="#edit-profile-modal"><i class='bx bxs-edit-alt'></i></a>
			</div>
		</div>
		<div class="profile-info">
			<div class="info-col">
				<div class="profile-intro">
					<h3>Intro</h3>
					<p class="intro-text">Belive in yourself and yu can do
						unbelievable things</p>
				</div>
			</div>
			<div class="post-col">
				<div class="postContainer postContainer-profile">
					<div th:each="publication : ${publications}" class="post">
					    <div class="user-profile">
					        <img th:src="@{/images/{id}(id=${publication.user.profileImage.id})}" alt="User Profile Image">
					        <div>
					            <p th:text="${publication.user.username}"></p>
					            <span th:text="${#dates.format(publication.createdAt, 'dd MMMM yyyy')}"></span>
					        </div>
					    </div>
					    <p class="post-text" th:text="${publication.textContent}"></p>
					    <div class="post-img" th:each="image : ${publication.images}">
					        <img th:src="@{/images/{id}(id=${image.id})}" alt="Publication Image">
					    </div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<th:block th:include="~{fragments/forms :: edit-profile-modal}"></th:block>
</body>
</html>
